/*
******************************************************************************
******************************************************************************
                              ANGULAR IMPORT
******************************************************************************
******************************************************************************
*/
import { Injectable } from "@angular/core";
import { HttpClient } from "@angular/common/http";
import { Observable } from "rxjs";
import { environment } from "../../environments/environment";

/*
******************************************************************************
******************************************************************************
                              ANGULAR SERVICES
******************************************************************************
******************************************************************************
*/
import { Login } from "./../interfaces/login";

interface isLoggedIn {
  status: boolean;
}

interface logoutStatus {
  status: boolean;
}

@Injectable({
  providedIn: "root",
})
export class ConsultAuthService {
  /*
  ******************************************************************************
  ******************************************************************************
                            LIST OF VARIABLES
  ******************************************************************************
  ******************************************************************************
  */
  //URL API for localhost server
  private URL = environment.baseUrl + "auth/";

  /*
  ******************************************************************************
  ******************************************************************************
                                 CLASS CONSTRUCTOR
  ******************************************************************************
  ******************************************************************************
  */

  constructor(private http: HttpClient) {}

  /*
  ******************************************************************************
  ******************************************************************************
                                FUNCTIONS SERVICE
  ******************************************************************************
  ******************************************************************************
  */
  getService() {
    return this.http.get<Login>(this.URL + "getAuthentication.php");
  }

  isLoggedIn(): Observable<isLoggedIn> {
    return this.http.get<isLoggedIn>(this.URL + "getLogged.php");
  }

  logout() {
    return this.http.get<logoutStatus>(this.URL + "logout.php");
  }
}
